"use client";

import React, { useState } from "react";
import { motion } from "framer-motion";

const skills = [
  { name: "JavaScript", icon: "M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" },
  { name: "TypeScript", icon: "M1.125 0C.502 0 0 .502 0 1.125v21.75C0 23.498.502 24 1.125 24h21.75c.623 0 1.125-.502 1.125-1.125V1.125C24 .502 23.498 0 22.875 0zm17.363 9.75c.612 0 1.154.037 1.627.111a6.38 6.38 0 0 1 1.306.34v2.458a3.95 3.95 0 0 0-.643-.361 5.093 5.093 0 0 0-.717-.26 5.453 5.453 0 0 0-1.426-.2c-.3 0-.573.028-.819.086a2.1 2.1 0 0 0-.623.242c-.17.104-.3.229-.393.374a.888.888 0 0 0-.14.49c0 .196.053.373.156.529.104.156.252.304.443.444s.423.276.696.41c.273.135.582.274.926.416.47.197.892.407 1.266.628.374.222.695.473.963.753.268.279.472.598.614.957.142.359.214.776.214 1.253 0 .657-.125 1.21-.373 1.656a3.033 3.033 0 0 1-1.012 1.085 4.38 4.38 0 0 1-1.487.596c-.566.12-1.163.18-1.79.18a9.916 9.916 0 0 1-1.84-.164 5.544 5.544 0 0 1-1.512-.493v-2.63a5.033 5.033 0 0 0 3.237 1.2c.333 0 .624-.03.872-.09.249-.06.456-.144.623-.25.166-.108.29-.234.373-.38a1.023 1.023 0 0 0-.074-1.089 2.12 2.12 0 0 0-.537-.5 5.597 5.597 0 0 0-.807-.444 27.72 27.72 0 0 0-1.007-.436c-.918-.383-1.602-.852-2.053-1.405-.45-.553-.676-1.222-.676-2.005 0-.614.123-1.141.369-1.582.246-.441.58-.804 1.004-1.089a4.494 4.494 0 0 1 1.47-.629 7.536 7.536 0 0 1 1.77-.201zm-15.113.188h9.563v2.166H9.506v9.646H6.789v-9.646H3.375z" },
  { name: "Python", icon: "M14.25.18l.9.2.73.26.59.3.45.32.34.41.23.51.13.56.05.59v14.44l-.05.59-.13.56-.23.51-.34.41-.45.32-.59.3-.73.26-.9.2H9.75l-.9-.2-.73-.26-.59-.3-.45-.32-.34-.41-.23-.51-.13-.56L7.25 15V1.31l.05-.59.13-.56.23-.51.34-.41.45-.32.59-.3.73-.26.9-.2h4.5z" },
  { name: "Rust", icon: "M23.8346 11.7033c0-.2842-.2243-.5146-.5089-.5146h-1.0979c-.0506-.4096-.1267-.8112-.2334-1.1986l.9917-.4504c.2651-.1204.3808-.4303.2604-.6957-.1204-.2654-.4301-.3809-.6955-.2605l-.9918.4504c-.1572-.3583-.3307-.7023-.5378-1.0276l.7876-.7853c.2007-.2006.2007-.5257 0-.7265-.2006-.2007-.5258-.2007-.7265 0l-.7875.7853c-.3254-.2072-.6692-.3807-1.0277-.5379l.4504-.9918c.1204-.2654.0047-.5753-.2605-.6957-.2654-.1204-.5753-.0047-.6957.2605l-.4504.9917c-.3873-.1067-.789-.1828-1.1986-.2334V5.5221c0-.2847-.2302-.5146-.5146-.5146-.2845 0-.5146.2299-.5146.5146v1.0979c-.4096.0506-.8112.1267-1.1986.2334l-.4504-.9917c-.1204-.2652-.4303-.3809-.6957-.2605-.2654.1204-.3809.4303-.2605.6957l.4504.9918c-.3583.1572-.7023.3307-1.0276.5379L9.232 6.8712c-.2006-.2007-.5257-.2007-.7265 0-.2007.2008-.2007.5259 0 .7265l.7876.7853c-.2072.3253-.3807.6693-.5378 1.0276l-.9918-.4504c-.2654-.1204-.5753-.0047-.6957.2605-.1204.2654-.0047.5753.2605.6957l.9917.4504c-.1067.3874-.1828.789-.2334 1.1986H5.5221c-.2845 0-.5146.2304-.5146.5146 0 .2845.2301.5146.5146.5146h1.0979c.0506.4096.1267.8112.2334 1.1986l-.9917.4504c-.2652.1204-.3809.4303-.2605.6957.0889.1958.2821.3044.4781.3044.0737 0 .1473-.0156.217-.0439l.9918-.4504c.1571.3583.3306.7023.5378 1.0276l-.7876.7854c-.2007.2006-.2007.5257 0 .7265.1004.1003.232.1505.3632.1505.1313 0 .2628-.0502.3633-.1505l.7875-.7854c.3254.2072.6693.3807 1.0277.5379l-.4504.9918c-.1204.2654-.0047.5753.2605.6957.0697.0283.1433.0439.217.0439.1959 0 .3892-.1086.4781-.3044l.4504-.9917c.3874.1067.789.1828 1.1986.2334v1.0979c0 .2847.2301.5146.5146.5146.2844 0 .5146-.2299.5146-.5146v-1.0979c.4096-.0506.8113-.1267 1.1986-.2334l.4504.9917c.0889.1958.2822.3044.4781.3044.0737 0 .1473-.0156.217-.0439.2654-.1204.3809-.4303.2605-.6957l-.4504-.9918c.3584-.1572.7023-.3307 1.0277-.5379l.7875.7854c.1005.1003.232.1505.3633.1505.1312 0 .2628-.0502.3632-.1505.2007-.2008.2007-.5259 0-.7265l-.7876-.7854c.2072-.3253.3807-.6693.5378-1.0276l.9918.4504c.0697.0283.1473.0439.217.0439.1960 0 .3892-.1086.4781-.3044.1204-.2654.0047-.5753-.2605-.6957l-.9917-.4504c.1067-.3874.1828-.789.2334-1.1986h1.0979c.2846 0 .5089-.2301.5089-.5146zM12 16.2222c-2.3364 0-4.2222-1.8858-4.2222-4.2222S9.6636 7.7778 12 7.7778s4.2222 1.8858 4.2222 4.2222-1.8858 4.2222-4.2222 4.2222z" },
  { name: "React", icon: "M21.9999 12c0-2.5-2.5-4.5-6-4.5s-6 2-6 4.5 2.5 4.5 6 4.5 6-2 6-4.5zm-6-8c2.5 0 4.5 1.5 4.5 3 0 1.5-2 3-4.5 3s-4.5-1.5-4.5-3c0-1.5 2-3 4.5-3zm-8 4.5c0-1.5 2-3 4.5-3s4.5 1.5 4.5 3-2 3-4.5 3-4.5-1.5-4.5-3z" },
  { name: "Node.js", icon: "M11.435.153L2.23 5.301c-.414.23-.67.66-.67 1.13v10.136c0 .47.256.9.67 1.13l9.204 5.15c.414.23.926.23 1.34 0l9.205-5.15c.414-.23.67-.66.67-1.13V6.43c0-.47-.256-.9-.67-1.13L12.775.153c-.414-.23-.926-.23-1.34 0z" },
  { name: "Docker", icon: "M24 13.616v-2.24c-.006-.729-.329-1.194-.944-1.45-.615-.256-1.258-.329-1.945-.329-2.775 0-5.349 1.074-7.318 3.045-.934.934-1.665 2.045-2.134 3.287-.469 1.242-.677 2.575-.677 3.93 0 1.355.208 2.688.677 3.93.469 1.242 1.2 2.353 2.134 3.287 1.969 1.971 4.543 3.045 7.318 3.045.687 0 1.33-.073 1.945-.329.615-.256.938-.721.944-1.45v-2.24c0-.4-.3-.7-.7-.7h-1.5c-.4 0-.7.3-.7.7v.8c-.6.1-1.2.1-1.8 0v-.8c0-.4-.3-.7-.7-.7h-1.5c-.4 0-.7.3-.7.7v.8c-.6-.1-1.2-.1-1.8 0v-.8c0-.4-.3-.7-.7-.7h-1.5c-.4 0-.7.3-.7.7v2.24c-.006.729.329 1.194.944 1.45.615.256 1.258.329 1.945.329h.1v1.4c0 .4.3.7.7.7h1.4c.4 0 .7-.3.7-.7v-1.4h3.2v1.4c0 .4.3.7.7.7h1.4c.4 0 .7-.3.7-.7v-1.4h.1c.687 0 1.33-.073 1.945-.329.615-.256.938-.721.944-1.45z" },
  { name: "Solana", icon: "M20.5 8.5L12 17l-8.5-8.5M20.5 15.5L12 7l-8.5 8.5" },
  { name: "PostgreSQL", icon: "M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z" },
  { name: "MongoDB", icon: "M17.193 9.555c-1.264-5.58-4.252-7.414-4.573-8.115-.28-.394-.53-.954-.735-1.44-.036.495-.055.685-.523 1.184-.723.566-4.438 3.682-4.74 10.02-.282 5.912 4.27 9.435 4.888 9.884l.07.05A73.49 73.49 0 0111.91 24h.481c.114-1.032.284-2.056.51-3.07.417-.296.604-.463.85-.693a11.342 11.342 0 003.639-8.464c.01-.814-.103-1.662-.197-2.218zm-5.336 8.195s0-8.291.275-8.29c.213 0 .49 10.695.49 10.695-.381-.045-.765-1.76-.765-2.405z" },
  { name: "Git", icon: "M23.546 10.93L13.067.452c-.604-.603-1.582-.603-2.188 0L8.708 2.627l2.76 2.76c.645-.215 1.379-.07 1.889.441.516.515.658 1.258.438 1.9l2.658 2.66c.645-.223 1.387-.078 1.9.435.721.72.721 1.884 0 2.604-.719.719-1.881.719-2.6 0-.539-.541-.674-1.337-.404-1.996L12.86 8.955v6.525c.176.086.342.203.488.348.713.721.713 1.883 0 2.6-.719.721-1.889.721-2.609 0-.719-.719-.719-1.879 0-2.598.182-.18.387-.316.605-.406V8.835c-.217-.091-.424-.222-.6-.401-.545-.545-.676-1.342-.396-2.009L7.636 3.7.45 10.881c-.6.605-.6 1.584 0 2.189l10.48 10.477c.604.604 1.582.604 2.186 0l10.43-10.43c.605-.603.605-1.582 0-2.187" },
  { name: "AWS", icon: "M7.7 11.4c0 .3.0.5.1.7.1.2.2.3.4.3.3 0 .6-.2.8-.5V9.8c-.2-.3-.5-.5-.8-.5-.2 0-.3.1-.4.3-.1.2-.1.4-.1.7v1.1zm8.9-1.1c-.3 0-.6.2-.8.5v2.1c.2.3.5.5.8.5.2 0 .3-.1.4-.3.1-.2.1-.4.1-.7v-1.1c0-.3 0-.5-.1-.7-.1-.2-.2-.3-.4-.3zm6.3 1.8c.1-.1.1-.2.1-.3 0-.2-.1-.3-.3-.3h-1.1c-.1 0-.3.1-.3.3 0 .1 0 .2.1.3l.7.7c.1.1.2.1.3.1s.2 0 .3-.1l.2-.7zM24 18.4v.9c0 .4-.3.7-.7.7H.7c-.4 0-.7-.3-.7-.7v-.9c0-.4.3-.7.7-.7H23.3c.4 0 .7.3.7.7z" },
  { name: "Solidity", icon: "M4.409 6.608L7.981.255l3.572 6.353H4.409zM8.411 0l3.569 6.353L8.411 0zM15.557 6.608L12.012.285l-3.555 6.323h7.1zM20.591 6.608L17.019.255l-3.572 6.353h7.144z" }
];

const Skills = () => {
  const [isHovered, setIsHovered] = useState(false);
  
  // Double the skills array for seamless infinite scroll
  const duplicatedSkills = [...skills, ...skills];

  return (
    <div className="w-full py-4 overflow-hidden bg-transparent mx-11">
      <div className="flex items-center gap-2 mb-3">
        <motion.div
          animate={{ rotate: [0, 360] }}
          transition={{ duration: 8, repeat: Infinity, ease: "linear" }}
          className="w-4 h-4 border-2 border-black dark:border-white border-dashed rounded-full"
        />
        <span className="text-sm font-medium text-gray-700 dark:text-gray-300 tracking-wide">
          THINGS I CODE WITH
        </span>
      </div>
      
      <motion.div 
        className="flex gap-6 will-change-transform"
        animate={{ 
          x: isHovered ? 0 : "-50%" 
        }}
        transition={{ 
          duration: isHovered ? 0.5 : 25,
          ease: isHovered ? "easeOut" : "linear",
          repeat: isHovered ? 0 : Infinity 
        }}
        onMouseEnter={() => setIsHovered(true)}
        onMouseLeave={() => setIsHovered(false)}
      >
        {duplicatedSkills.map((skill, index) => (
          <motion.div
            key={`${skill.name}-${index}`}
            className="flex-shrink-0 group"
            whileHover={{ 
              scale: 1.15,
              zIndex: 10,
            }}
            transition={{ type: "spring", stiffness: 400, damping: 17 }}
          >
            <div className="relative">
              <motion.div
                className="w-8 h-8 rounded-lg bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 flex items-center justify-center shadow-sm group-hover:shadow-lg transition-shadow duration-200"
                whileHover={{
                  backgroundColor: "#000000",
                  borderColor: "#000000",
                }}
              >
                <svg 
                  className="w-5 h-5 text-black dark:text-white group-hover:text-white transition-colors duration-200" 
                  fill="currentColor" 
                  viewBox="0 0 24 24"
                >
                  <path d={skill.icon} />
                </svg>
              </motion.div>
              
              {/* Tooltip */}
              <motion.div
                className="absolute -top-10 left-1/2 transform -translate-x-1/2 bg-black dark:bg-white text-white dark:text-black px-2 py-1 rounded text-xs font-medium whitespace-nowrap opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity duration-200 shadow-lg z-20"
                initial={{ opacity: 0, y: 5 }}
                animate={{ 
                  opacity: isHovered ? 1 : 0,
                  y: isHovered ? 0 : 5 
                }}
                transition={{ delay: 0.1 }}
              >
                {skill.name}
                <div className="absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-black dark:border-t-white"></div>
              </motion.div>
            </div>
          </motion.div>
        ))}
      </motion.div>
      
      {/* Subtle gradient fade on edges */}
      <div className="absolute left-0 top-0 bottom-0 w-8 bg-gradient-to-r from-white dark:from-gray-950 to-transparent pointer-events-none z-10"></div>
      <div className="absolute right-0 top-0 bottom-0 w-8 bg-gradient-to-l from-white dark:from-gray-950 to-transparent pointer-events-none z-10"></div>
    </div>
  );
};

export default Skills;